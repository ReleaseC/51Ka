<!--
  Generated template for the ResetpasswordPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    
  <ion-navbar>
    <ion-title>重置登录密码</ion-title>
  </ion-navbar>

</ion-header>

<ion-content no-padding>
  <div *ngIf="is_step;then step1 else step2"></div>
  <ng-template #step1>
    <p class="password_hint">
      为确保是您本人操作，请输入以下验证信息
    </p>
    <ion-list>
      <ion-item>
        <ion-label>登录手机号</ion-label>
        <ion-input type="text" [(ngModel)]="phone_num" readonly></ion-input>
      </ion-item>
      <ion-item>
        <ion-label>验证码</ion-label>
        <ion-input type="text" placeholder="请输入验证码" [(ngModel)]="verify_code"></ion-input>
        <button ion-button outline item-end (click)="getVerifyCode()" *ngIf="send_code == 0; else countDown">
          获取验证码
        </button>

        <ng-template #countDown>
          <button ion-button outline item-end style="width:65px">
            {{times}}s
          </button>
        </ng-template>
        
      </ion-item>
    </ion-list>
    <div class="next_btn">
      <button ion-button full round [ngClass]="{'add_bkcolor': is_actived1 == true}" (click)="toNextPage()" [disabled]="!is_actived1">下一步</button>
    </div>
  </ng-template>

  <ng-template #step2>
    <p class="password_hint"></p>
    <ion-list>
      <ion-item>
        <ion-label>新密码</ion-label>
        <ion-input type="password" placeholder="请输入密码" maxlength="20" minlength="6" [(ngModel)]="password"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label>确认密码</ion-label>
        <ion-input type="password" placeholder="确认密码" maxlength="20" minlength="6" [(ngModel)]="verify_password"></ion-input>
      </ion-item>
    </ion-list>
    <div class="finish_btn" >
        <button ion-button full round [ngClass]="{'add_bkcolor': is_actived2 == true}" (click)="finished()" [disabled]="!is_actived2">完成</button>
    </div>
  </ng-template>
    
</ion-content>
    